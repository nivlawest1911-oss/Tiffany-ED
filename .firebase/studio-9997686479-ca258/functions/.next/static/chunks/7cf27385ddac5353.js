(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,679474,(e,t,r)=>{"use strict";var i=e.r(271645).__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;r.c=function(e){return i.H.useMemoCache(e)}},500932,(e,t,r)=>{"use strict";t.exports=e.r(679474)},475254,e=>{"use strict";var t=e.i(271645);let r=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},i=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,t.forwardRef)(({color:e="currentColor",size:r=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:o="",children:l,iconNode:c,...d},u)=>(0,t.createElement)("svg",{ref:u,...s,width:r,height:r,stroke:e,strokeWidth:a?24*Number(n)/Number(r):n,className:i("lucide",o),...!l&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(d)&&{"aria-hidden":"true"},...d},[...c.map(([e,r])=>(0,t.createElement)(e,r)),...Array.isArray(l)?l:[l]])),a=(e,s)=>{let a=(0,t.forwardRef)(({className:a,...o},l)=>(0,t.createElement)(n,{ref:l,iconNode:s,className:i(`lucide-${r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,a),...o}));return a.displayName=r(e),a};e.s(["default",()=>a],475254)},618566,(e,t,r)=>{t.exports=e.r(976562)},410160,e=>{"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.s(["default",()=>t])},727612,e=>{"use strict";let t=(0,e.i(475254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>t],727612)},440160,e=>{"use strict";let t=(0,e.i(475254).default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);e.s(["Download",()=>t],440160)},876341,e=>{"use strict";var t=e.i(843476),r=e.i(500932),i=e.i(271645),s=e.i(11981);e.i(436180);var n=e.i(98925),a=e.i(255749),o=e.i(846932),l=e.i(727612),c=e.i(440160),d=e.i(475254);let u=(0,d.default)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),m=(0,d.default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var h=e.i(171638),p=e.i(618566);e.i(247167);var f=e.i(231178),x=e.i(947414),b=e.i(674008),g=e.i(821476),y=e.i(772846),v=i,j=e.i(737806);function w(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}class k extends v.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,r=(0,y.isHTMLElement)(e)&&e.offsetWidth||0,i=this.props.sizeRef.current;i.height=t.offsetHeight||0,i.width=t.offsetWidth||0,i.top=t.offsetTop,i.left=t.offsetLeft,i.right=r-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function N({children:e,isPresent:r,anchorX:s,root:n}){let a=(0,v.useId)(),o=(0,v.useRef)(null),l=(0,v.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=(0,v.useContext)(j.MotionConfigContext),d=function(...e){return i.useCallback(function(...e){return t=>{let r=!1,i=e.map(e=>{let i=w(e,t);return r||"function"!=typeof i||(r=!0),i});if(r)return()=>{for(let t=0;t<i.length;t++){let r=i[t];"function"==typeof r?r():w(e[t],null)}}}}(...e),e)}(o,e?.ref);return(0,v.useInsertionEffect)(()=>{let{width:e,height:t,top:i,left:d,right:u}=l.current;if(r||!o.current||!e||!t)return;let m="left"===s?`left: ${d}`:`right: ${u}`;o.current.dataset.motionPopId=a;let h=document.createElement("style");c&&(h.nonce=c);let p=n??document.head;return p.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${t}px !important;
            ${m}px !important;
            top: ${i}px !important;
          }
        `),()=>{p.contains(h)&&p.removeChild(h)}},[r]),(0,t.jsx)(k,{isPresent:r,childRef:o,sizeRef:l,children:v.cloneElement(e,{ref:d})})}let z=({children:e,initial:r,isPresent:s,onExitComplete:n,custom:a,presenceAffectsLayout:o,mode:l,anchorX:c,root:d})=>{let u=(0,x.useConstant)(S),m=(0,i.useId)(),h=!0,p=(0,i.useMemo)(()=>(h=!1,{id:m,initial:r,isPresent:s,custom:a,onExitComplete:e=>{for(let t of(u.set(e,!0),u.values()))if(!t)return;n&&n()},register:e=>(u.set(e,!1),()=>u.delete(e))}),[s,u,n]);return o&&h&&(p={...p}),(0,i.useMemo)(()=>{u.forEach((e,t)=>u.set(t,!1))},[s]),i.useEffect(()=>{s||u.size||!n||n()},[s]),"popLayout"===l&&(e=(0,t.jsx)(N,{isPresent:s,anchorX:c,root:d,children:e})),(0,t.jsx)(g.PresenceContext.Provider,{value:p,children:e})};function S(){return new Map}var C=e.i(464978);let _=e=>e.key||"";function E(e){let t=[];return i.Children.forEach(e,e=>{(0,i.isValidElement)(e)&&t.push(e)}),t}let R=({children:e,custom:r,initial:s=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:o="sync",propagate:l=!1,anchorX:c="left",root:d})=>{let[u,m]=(0,C.usePresence)(l),h=(0,i.useMemo)(()=>E(e),[e]),p=l&&!u?[]:h.map(_),g=(0,i.useRef)(!0),y=(0,i.useRef)(h),v=(0,x.useConstant)(()=>new Map),[j,w]=(0,i.useState)(h),[k,N]=(0,i.useState)(h);(0,b.useIsomorphicLayoutEffect)(()=>{g.current=!1,y.current=h;for(let e=0;e<k.length;e++){let t=_(k[e]);p.includes(t)?v.delete(t):!0!==v.get(t)&&v.set(t,!1)}},[k,p.length,p.join("-")]);let S=[];if(h!==j){let e=[...h];for(let t=0;t<k.length;t++){let r=k[t],i=_(r);p.includes(i)||(e.splice(t,0,r),S.push(r))}return"wait"===o&&S.length&&(e=S),N(E(e)),w(h),null}let{forceRender:R}=(0,i.useContext)(f.LayoutGroupContext);return(0,t.jsx)(t.Fragment,{children:k.map(e=>{let i=_(e),f=(!l||!!u)&&(h===k||p.includes(i));return(0,t.jsx)(z,{isPresent:f,initial:(!g.current||!!s)&&void 0,custom:r,presenceAffectsLayout:a,mode:o,root:d,onExitComplete:f?void 0:()=>{if(!v.has(i))return;v.set(i,!0);let e=!0;v.forEach(t=>{t||(e=!1)}),e&&(R?.(),N(y.current),l&&m?.(),n&&n())},anchorX:c,children:e},i)})})};function A(){let e,s,n,a,l,c,d=(0,r.c)(7),u=(0,p.useSearchParams)(),[m,h]=(0,i.useState)(!1);return(d[0]!==u?(e=()=>{if(u.get("session_id")){h(!0);let e=setTimeout(()=>h(!1),1e4);return()=>clearTimeout(e)}},s=[u],d[0]=u,d[1]=e,d[2]=s):(e=d[1],s=d[2]),(0,i.useEffect)(e,s),m)?(d[3]===Symbol.for("react.memo_cache_sentinel")?(n={x:100,opacity:0},a={x:0,opacity:1},l={x:100,opacity:0},d[3]=n,d[4]=a,d[5]=l):(n=d[3],a=d[4],l=d[5]),d[6]===Symbol.for("react.memo_cache_sentinel")?(c=(0,t.jsx)(R,{children:(0,t.jsxs)(o.motion.div,{initial:n,animate:a,exit:l,className:"fixed top-5 right-5 z-[100] bg-gradient-to-br from-emerald-500 to-green-700 text-white p-4 pr-6 rounded-2xl shadow-xl shadow-emerald-900/20 border border-white/20 flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-2xl",children:"⚡"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-bold text-sm",children:"Professional Tier Active"}),(0,t.jsx)("div",{className:"text-[10px] opacity-90 font-mono tracking-tight uppercase",children:"Global Strategic Suite Enabled"})]})]})}),d[6]=c):c=d[6],c):null}let M={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},P={hidden:{opacity:0,scale:.95},show:{opacity:1,scale:1}};function T(){let e,d,p,f,x,b,g,y,v,j,w,k=(0,r.c)(17);k[0]===Symbol.for("react.memo_cache_sentinel")?(e=[],k[0]=e):e=k[0];let[N,z]=(0,i.useState)(e),[S,C]=(0,i.useState)(!0),[_,E]=(0,i.useState)(null),[R,T]=(0,i.useState)("");k[1]===Symbol.for("react.memo_cache_sentinel")?(d=async()=>{let e=(0,n.query)((0,n.collection)(s.firestore,"strategicAudits"),(0,n.orderBy)("timestamp","desc"));z((await (0,n.getDocs)(e)).docs.map(L)),C(!1)},k[1]=d):d=k[1];let D=d;k[2]===Symbol.for("react.memo_cache_sentinel")?(p=()=>{D()},f=[],k[2]=p,k[3]=f):(p=k[2],f=k[3]),(0,i.useEffect)(p,f),k[4]===Symbol.for("react.memo_cache_sentinel")?(x=async()=>{if(!confirm("⚠️ CRITICAL: Are you sure you want to permanently delete all archived audits? This cannot be undone."))return;C(!0);let e=(0,n.query)((0,n.collection)(s.firestore,"strategicAudits")),t=await (0,n.getDocs)(e),r=(0,n.writeBatch)(s.firestore);t.docs.forEach(e=>{r.delete(e.ref)}),await r.commit(),alert("Strategic Vault Reset Successfully."),D()},k[4]=x):x=k[4];let U=x;k[5]!==R?(b=async e=>{let t=(0,n.doc)(s.firestore,"strategicAudits",e);await (0,n.updateDoc)(t,{executiveCorrection:R,lastRefined:new Date}),E(null),D()},k[5]=R,k[6]=b):b=k[6];let $=b;return k[7]===Symbol.for("react.memo_cache_sentinel")?(g=(0,t.jsx)(i.Suspense,{fallback:null,children:(0,t.jsx)(A,{})}),k[7]=g):g=k[7],k[8]===Symbol.for("react.memo_cache_sentinel")?(y=(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-3xl md:text-4xl font-black tracking-tight uppercase",children:[(0,t.jsx)("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-amber-500 to-orange-600",children:"Executive"})," Strategic Archive"]}),s.auth.currentUser?.displayName&&(0,t.jsxs)("p",{className:"text-zinc-500 dark:text-zinc-400 font-medium mt-1",children:["Welcome, ",s.auth.currentUser.displayName]})]}),k[8]=y):y=k[8],k[9]===Symbol.for("react.memo_cache_sentinel")?(v=(0,t.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[y,(0,t.jsxs)("button",{onClick:U,className:"px-4 py-2 bg-red-500/10 text-red-600 dark:text-red-400 border border-red-500/20 rounded-lg text-xs font-bold uppercase tracking-widest hover:bg-red-500/20 transition-colors flex items-center gap-2",children:[(0,t.jsx)(l.Trash2,{size:14})," Reset Vault"]})]}),j=(0,t.jsx)("div",{className:"h-px bg-zinc-200 dark:bg-zinc-800"}),k[9]=v,k[10]=j):(v=k[9],j=k[10]),k[11]!==N||k[12]!==_||k[13]!==R||k[14]!==S||k[15]!==$?(w=(0,t.jsxs)(h.default,{children:[g,(0,t.jsx)("div",{className:"min-h-screen bg-zinc-50 dark:bg-zinc-950 text-zinc-900 dark:text-zinc-50 p-8 md:p-12 transition-colors duration-500",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto space-y-8",children:[v,j,S?(0,t.jsxs)("div",{className:"flex items-center justify-center py-20",children:[(0,t.jsx)("div",{className:"w-6 h-6 border-2 border-amber-500 border-t-transparent rounded-full animate-spin"}),(0,t.jsx)("span",{className:"ml-3 text-sm font-bold text-zinc-400 uppercase tracking-widest",children:"Decrypting Records..."})]}):(0,t.jsxs)(o.motion.div,{variants:M,initial:"hidden",animate:"show",className:"space-y-6",children:[N.map(e=>(0,t.jsxs)(o.motion.div,{variants:P,className:"group relative p-6 bg-white dark:bg-zinc-900 rounded-2xl border border-zinc-200 dark:border-zinc-800 shadow-sm hover:shadow-xl hover:border-amber-500/30 transition-all duration-300",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-[10px] font-black uppercase tracking-widest text-amber-500/80 bg-amber-500/10 px-2 py-1 rounded-full",children:e.targetSchool||"District Office"}),(0,t.jsx)("span",{className:"ml-3 text-xs text-zinc-400 font-mono",children:e.timestamp?.toDate().toLocaleString()})]}),(0,t.jsxs)("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,t.jsx)("button",{onClick:()=>(function(e){let t=new a.jsPDF;t.setFontSize(20),t.text("EdIntel Strategic Memo",20,20);let r=t.splitTextToSize(e.strategicOutput,170);t.text(r,20,50),t.save("Audit_Export.pdf")})(e),className:"p-2 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-lg text-zinc-500 transition-colors",children:(0,t.jsx)(c.Download,{size:16})}),(0,t.jsx)("button",{onClick:()=>{E(e.id),T(e.executiveCorrection||"")},className:"p-2 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-lg text-zinc-500 transition-colors",children:(0,t.jsx)(u,{size:16})})]})]}),(0,t.jsx)("h3",{className:"text-lg font-bold mb-2 text-zinc-800 dark:text-zinc-200",children:e.executivePrompt}),(0,t.jsx)("p",{className:"text-sm text-zinc-600 dark:text-zinc-400 leading-relaxed mb-4",children:e.strategicOutput}),_===e.id&&(0,t.jsxs)(o.motion.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-4 pt-4 border-t border-zinc-100 dark:border-zinc-800",children:[(0,t.jsx)("textarea",{className:"w-full p-3 text-sm bg-zinc-50 dark:bg-black border border-zinc-200 dark:border-zinc-800 rounded-xl focus:ring-2 focus:ring-amber-500 outline-none transition-all",rows:3,placeholder:"Enter executive notes...",value:R,onChange:e=>T(e.target.value)}),(0,t.jsxs)("div",{className:"flex justify-end gap-2 mt-2",children:[(0,t.jsx)("button",{onClick:()=>E(null),className:"px-3 py-1.5 text-xs font-bold text-zinc-500 hover:text-zinc-900",children:"Cancel"}),(0,t.jsxs)("button",{onClick:()=>$(e.id),className:"px-3 py-1.5 bg-amber-500 text-white rounded-lg text-xs font-bold flex items-center gap-1 hover:bg-amber-600 transition-colors",children:[(0,t.jsx)(m,{size:12})," Save"]})]})]})]},e.id)),0===N.length&&(0,t.jsx)("div",{className:"text-center py-20 text-zinc-400",children:(0,t.jsx)("p",{children:"No strategic records found in the vault."})})]})]})})]}),k[11]=N,k[12]=_,k[13]=R,k[14]=S,k[15]=$,k[16]=w):w=k[16],w}function L(e){return{id:e.id,...e.data()}}e.s(["default",()=>T],876341)},48503,e=>{e.v(t=>Promise.all(["static/chunks/2988bfaf82a45b76.js"].map(t=>e.l(t))).then(()=>t(915833)))},870653,e=>{e.v(t=>Promise.all(["static/chunks/e551d4a510c7c3c6.js"].map(t=>e.l(t))).then(()=>t(424154)))},195111,e=>{e.v(t=>Promise.all(["static/chunks/bcb4554b5fd2d4a4.js"].map(t=>e.l(t))).then(()=>t(38201)))}]);